generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum MatchStatus {
  scheduled
  live
  finished
}

model Match {
  id           Int          @id @default(autoincrement())
  homeTeam     String
  awayTeam     String
  homeScore    Int          @default(0)
  awayScore    Int          @default(0)
  sport        String
  status       MatchStatus  @default(scheduled)
  startTime    DateTime
  endTime      DateTime
  createdAt    DateTime     @default(now())
  commentaries Commentary[]
}

model Commentary {
  id         Int      @id @default(autoincrement())
  matchId    Int
  match      Match    @relation(fields: [matchId], references: [id], onDelete: Cascade)
  actor      String?
  team       String?
  message    String
  minute     Int?
  sequenceNo Int?
  period     String?
  eventType  String?
  metadata   Json?
  tags       String[] @default([])
  createdAt  DateTime @default(now())
}
